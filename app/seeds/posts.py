from app.models import db, Post, environment, SCHEMA
from sqlalchemy.sql import text


# Adds a demo user, you can add other users here if you want
def seed_posts():
    post1 = Post(
        owner_id=1,
        title='I found this very cool story about a penguin in the Antarctica, check it out!',
        story="In the frosty realm of Antarctica, where ice and snow stretched as far as the eye could see, there lived a young penguin named Percy. He was unlike his companions, filled with an insatiable curiosity and an unyielding desire for adventure. While the other penguins were content with their simple lives of fishing and huddling together for warmth, Percy yearned for something more—a life beyond the frozen shores, exploring the vast wonders that lay beyond.One crisp morning, as the sun began to cast its soft golden glow over the icy landscape, Percy found himself unable to resist the call of the unknown any longer. With a determined gleam in his eyes, he stood at the edge of his colony, his flippers trembling in anticipation. His heart pounded in his chest as he took a deep breath and leaped into the frigid waters. With each stroke, Percy felt his spirit soar. He marveled at the shimmering icebergs that jutted out of the water like frozen sculptures, their beauty a testament to nature's artistry. He swam alongside playful seals, their graceful movements and mischievous gazes filling him with joy. But the further Percy ventured from his homeland, the more he encountered the challenges that awaited him. Fierce winds howled through the icy waters, threatening to sweep him away. Waves crashed against his tiny body, testing his resilience and resolve. Yet, despite these hardships, Percy's determination never wavered. He knew that if he wanted to uncover the secrets of the world beyond, he had to persevere. Days turned into weeks, and weeks into months as Percy continued his intrepid journey. One day, while navigating through a treacherous stretch of freezing water, he spotted a distant land—a sight that filled him with awe and wonder. It was a chain of islands known as the Galápagos, teeming with vibrant wildlife and unparalleled beauty. As Percy set foot on the sandy shores of the Galápagos Islands, he felt a sense of exhilaration and gratitude. He encountered creatures he had never seen before—exotic birds with vibrant plumage soared through the skies, and ancient tortoises lumbered across the rugged terrain. The diversity of life was a marvel that captured Percy's heart. As he explored the islands, Percy's wanderings led him to an encounter that would forever change his life. In a hidden cove, he met Penelope, a penguin who shared his zest for adventure. They quickly became inseparable companions, embarking on new escapades together, their flippers intertwining as they faced the challenges and wonders of the islands. Together, Percy and Penelope discovered hidden caves, their dark recesses illuminated by the glow of bioluminescent creatures. They swam alongside graceful sea turtles, their gentle presence a reminder of the harmony that existed between all living beings. And as they journeyed through the islands, Percy and Penelope's bond grew stronger, their friendship forged by their shared love for exploration. Eventually, the time came for Percy and Penelope to return to their icy home. They bid farewell to the Galápagos Islands, their hearts filled with memories that would last a lifetime. The journey back was arduous, but Percy found solace in knowing that he had fulfilled his longing for adventure. He had witnessed the wonders of the world beyond and had forged a friendship that would endure. As Percy reunited with his colony, he shared tales of his incredible journey. His fellow penguins listened with awe, their eyes wide with wonder at the stories he spun. Percy had not only satisfied his own thirst for exploration but had ignited a spark within his companions—a yearning to seek out new horizons and embrace the unknown. And so, as the sun set over the icy expanse of Antarctica, Percy's story continued to inspire, reminding all who heard it that sometimes, in the pursuit of our dreams, we discover a world far grander than we could have ever imagined.",
        photo="https://t4.ftcdn.net/jpg/05/63/92/85/360_F_563928574_63NIqdW6BWpnUwYkmDbrZDBBiG4JASUD.jpg"
    )
    post2 = Post(
        owner_id=2,
        title='while I was looking for story for my kids I stumbled uppon this one which its very interesting, give it a read!!',
        story="In a dense and vibrant forest, nestled amidst towering trees, there lived a small and spirited bird named Ruby. With her crimson feathers and a melodious song that echoed through the woods, Ruby enchanted all who had the fortune to hear her. Ruby possessed a deep curiosity that fueled her desire to explore beyond the familiar boundaries of her forest home. She longed to witness the wonders of distant lands and soar freely through vast skies. Each day, as the sun painted the world with hues of gold, Ruby would flutter her wings and take flight, her heart filled with excitement and a thirst for adventure. During one of her journeys, Ruby encountered a wise old owl named Oliver. The ancient owl had traveled far and wide, gathering wisdom from all corners of the world. Intrigued by Ruby's youthful enthusiasm, Oliver offered to be her guide, imparting his knowledge and sharing stories of his countless escapades. Under Oliver's guidance, Ruby explored breathtaking landscapes—from towering mountains kissed by clouds to tranquil meadows bursting with wildflowers. She marveled at shimmering lakes reflecting the colors of the sunset and danced with the wind as it whispered secrets among ancient ruins. In their travels, Ruby and Oliver encountered a diverse array of fellow creatures. They met mischievous squirrels darting through treetops, elegant deer grazing in sun-drenched clearings, and playful otters frolicking in crystal-clear streams. Each encounter brought new lessons and understanding, expanding Ruby's view of the world. As time passed, Ruby grew not only in knowledge but also in wisdom and compassion. She developed a deep appreciation for the delicate balance of nature and the interconnectedness of all living beings. With each passing day, Ruby's vibrant melodies carried messages of unity and harmony, inspiring creatures near and far to embrace empathy and kindness. But as Ruby's journeys took her to distant lands, a longing for her forest home tugged at her heartstrings. She yearned to share her experiences with her beloved forest friends. And so, bidding farewell to Oliver, Ruby embarked on her final flight back to the place she had always called home. As Ruby returned to her forest, a wave of joy washed over her. The trees whispered tales of their growth, the flowers bloomed with renewed vibrancy, and the animals welcomed her with open arms—wings, paws, and hooves. Ruby shared her stories, painting vivid pictures with her enchanting melodies, and imparting the lessons she had learned along her journey. The forest transformed into a vibrant tapestry of unity and understanding. Creatures of all kinds embraced their unique qualities, celebrating the richness of their diversity. Ruby's song became an anthem of acceptance, reminding everyone that true beauty lies not just in the colors of feathers or fur but in the connections we forge and the kindness we show. And so, Ruby continued to sing, her melodies carried on gentle breezes, touching hearts near and far. Her story inspired generations of birds, animals, and humans to embrace the wonders of the world, celebrate differences, and cherish the beauty of every living being. In the evergreen forest, Ruby's legacy lived on—a reminder that even the smallest among us can create ripples of love and understanding, transforming the world one heartfelt song at a time.",
        photo="https://cdn.pixabay.com/photo/2018/04/30/13/47/wallpaper-3362711_1280.jpg"
    )

    db.session.add(post1)
    db.session.add(post2)
    db.session.commit()


# Uses a raw SQL query to TRUNCATE or DELETE the users table. SQLAlchemy doesn't
# have a built in function to do this. With postgres in production TRUNCATE
# removes all the data from the table, and RESET IDENTITY resets the auto
# incrementing primary key, CASCADE deletes any dependent entities.  With
# sqlite3 in development you need to instead use DELETE to remove all data and
# it will reset the primary keys for you as well.
def undo_posts():
    if environment == "production":
        db.session.execute(
            f"TRUNCATE table {SCHEMA}.posts RESTART IDENTITY CASCADE;")
    else:
        db.session.execute(text("DELETE FROM posts"))

    db.session.commit()
